import{c}from"./chunk-PVUYXKID.js";import{a as m}from"./chunk-4IRM7QZA.js";import{V as r,Z as i,ba as n,ca as a,sa as s,zc as g}from"./chunk-N6R25X7Z.js";var l=class t{constructor(e){this.router=e}http=a(g);tokenKey="token";isLoggedIn=s(!!localStorage.getItem(this.tokenKey));login(e,o){return this.http.post(`${m.api}/auth/login`,{username:e,password:o}).pipe(r(p=>{localStorage.setItem(this.tokenKey,p.access_token),this.isLoggedIn.set(!0)}))}logout(){localStorage.removeItem(this.tokenKey),this.isLoggedIn.set(!1),this.router.navigate(["/admin/login"])}getToken(){return localStorage.getItem(this.tokenKey)}isAuthenticated(){return!!this.getToken()}static \u0275fac=function(o){return new(o||t)(n(c))};static \u0275prov=i({token:t,factory:t.\u0275fac,providedIn:"root"})};export{l as a};
