// Variables for consistent theming
$primary-color: #3f51b5;
$card-bg: #ffffff;
$bg-color: #f8f9fa;
$transition-speed: 0.3s;
$border-radius: 16px;

.product-wrapper {
    display: flex;
    flex-wrap: wrap;
    justify-content: center; // Center items (handles orphans)
    gap: 30px;
    padding: 40px;
    background-color: $bg-color;
    box-sizing: border-box;
    min-height: 100%;
}

.product-card {
    background: $card-bg;
    border-radius: $border-radius;
    overflow: hidden;
    transition: all $transition-speed ease;
    border: none;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    height: auto; // Allow height to fit content, or fixed if preferred
    min-height: 450px; // Ensure consistency
    cursor: pointer;
    position: relative;

    // Flex sizing
    flex: 1 1 320px; // Grow, shrink, basis
    max-width: 400px; // Prevent stretching too wide on large screens
    width: 100%;

    // Hover Effect: Lift and Shadow
    &:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);

        img {
            transform: scale(1.08);
        }
    }

    // Image Container
    .image-container {
        width: 100%;
        height: 250px;
        overflow: hidden;
        position: relative;

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
    }

    // Header (User Icon & Title)
    mat-card-header {
        padding: 16px 16px 0;

        .mat-card-header-text {
            margin: 0;
        }

        mat-card-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }
    }

    .header-image {
        background-image: url('/mini_logo.png');
        background-size: cover;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 12px;
    }

    // Content
    mat-card-content {
        padding: 16px;
        flex-grow: 1;

        p {
            color: #666;
            line-height: 1.6;
            font-size: 0.95rem;

            // Truncate text after 3 lines
            display: -webkit-box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            margin: 0;
        }
    }

    // Actions (Button)
    mat-card-actions {
        padding: 8px 16px 16px;
        display: flex;
        justify-content: flex-end;

        button {
            text-transform: uppercase;
            font-weight: 500;
            letter-spacing: 0.5px;
        }
    }
}

// Landscape fix for very short screens (optional adjustment)
@media (max-height: 500px) and (orientation: landscape) {
    .product-wrapper {
        padding: 10px;
    }

    .product-card .image-container {
        height: 150px;
    }
}